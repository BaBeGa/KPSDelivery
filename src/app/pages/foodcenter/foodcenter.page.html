<ion-header>
  <ion-toolbar color="success" >
      <ion-searchbar  debounce="1000" placeholder="ค้นหา" (ionChange)="onSearchInput($event)"></ion-searchbar>
      <ion-buttons slot="end">
          <ion-button id="button" size="small" shape="round" color="medium" (click)="openCart()">
            <ion-icon name="cart"></ion-icon>
            <ion-badge id="notifications-badge"  slot="end" *ngIf="this.cartLength > 0">!</ion-badge>
          </ion-button>
      </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content class="bg">

  <ion-row>
    <ion-slides pager="true" autoplay="3000" loop="true" style="height: 200px">
      <ion-slide (click)="promo1()">
        <img src="assets/imgs/breakfast001.jpg" />
      </ion-slide>
      <ion-slide>
        <img src="assets/imgs/lunch001.jpg" />
      </ion-slide>
      <ion-slide>
        <img src="assets/imgs/dinner003.jpg" />
      </ion-slide>
    </ion-slides>
  </ion-row>



  <ion-row class="categoryHead" margin-top>
    <h3 padding-left>ค้นหาตามประเภทอาหารที่ชอบ</h3>
    <ion-slides pager class="categorySlide">
      
      <ion-slide>
        <div class="card-background-page" no-padding text-center>
          <ion-row no-padding>
            <ion-col no-padding>
              <ion-card no-padding (click)="getRestaurant()">
                <img src="assets/imgs/category_all.jpg" />
                <div class="card-title">ร้านรวม</div>
              </ion-card>
            </ion-col>
            <ion-col no-padding>
              <ion-card no-padding (click)="category('ตามสั่ง')">
                <img src="assets/imgs/category_tamsang.jpg" />
                <div class="card-title">อาหารตามสั่ง</div>
              </ion-card>
            </ion-col>
            <ion-col no-padding>
              <ion-card no-padding (click)="category('ก๋วยเตี๋ยว')">
                <img src="assets/imgs/category_noodle.jpg" />
                <div class="card-title">ก๋วยเตี๋ยว</div>
              </ion-card>
            </ion-col>
          </ion-row>
          <ion-row no-padding>
            <ion-col no-padding>
              <ion-card no-padding (click)="category('ฟาสฟู๊ด')">
                <img src="assets/imgs/category_fastfood.jpg" />
                <div class="card-title">ฟาสฟู๊ด</div>
              </ion-card>
            </ion-col>
            <ion-col no-padding>
              <ion-card no-padding (click)="category('เครื่องดื่ม')">
                <img src="assets/imgs/category_drinks.jpg" />
                <div class="card-title">เครื่องดื่ม</div>
              </ion-card>
            </ion-col>
            <ion-col no-padding>
              <ion-card no-padding (click)="category('ขนมหวาน')">
                <img src="assets/imgs/category_sweet.jpg" />
                <div class="card-title">ขนมหวาน</div>
              </ion-card>
            </ion-col>
          </ion-row>
        </div>
      </ion-slide>

      <ion-slide>
        <div class="card-background-page" no-padding>
          <ion-row no-padding>
            <ion-col no-padding>
              <ion-card no-padding (click)="category('พิซซ่า')">
                <img src="assets/imgs/category_pizza.jpg" />
                <div class="card-title">พิซซ่า</div>
              </ion-card>
            </ion-col>
            <ion-col no-padding>
              <ion-card no-padding (click)="category('ไทย')">
                <img src="assets/imgs/category_thaifood.jpg" />
                <div class="card-title">อาหารไทย</div>
              </ion-card>
            </ion-col>
            <ion-col no-padding>
              <ion-card no-padding (click)="category('เช้า')">
                <img src="assets/imgs/category_breakfast.jpg" />
                <div class="card-title">อาหารเช้า</div>
              </ion-card>
            </ion-col>
          </ion-row>
          <ion-row no-padding>
            <ion-col no-padding>
              <ion-card no-padding (click)="category('สลัด')">
                <img src="assets/imgs/category_salad.jpg" />
                <div class="card-title">สลัด</div>
              </ion-card>
            </ion-col>
            <ion-col no-padding>
              <ion-card no-padding (click)="category('ญี่ปุ่น')">
                <img src="assets/imgs/category_japan.jpg" />
                <div class="card-title">อาหารญี่ปุ่น</div>
              </ion-card>
            </ion-col>
            <ion-col no-padding>

            </ion-col>
          </ion-row>
        </div>
      </ion-slide>

    </ion-slides>

  </ion-row>

  <ion-row>
    <div padding-left>
      หมวดหมู่ {{this.categoryType}}
    </div>
  </ion-row>

  <ion-row>
    <div padding-left>
     จำนวนร้านค้าที่มี {{ restaurantNum }} ร้าน
    </div>
  </ion-row>

  <ion-row>
    <ion-list padding>
      <ion-item button=true *ngFor="let item of items" (click)="goInRestaurant(item)" no-padding>
        <ion-row no-padding >
          <ion-col col-3 no-padding class="img">
            <img src="http://158.108.207.4/delivery/public/images/restaurants/{{item.image}}" />
          </ion-col>
          <ion-col col-6 align-self-center>
            {{item.name}}
          </ion-col>
          <div class="star">
            <ion-col *ngIf="item.num_rating != null && item.num_rating >=0.5 && item.num_rating < 1" text-right >
              <ion-icon size="small" name="star-half" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
            </ion-col>
            <ion-col *ngIf="item.num_rating != null && item.num_rating == 1" text-right >
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
            </ion-col>
            <ion-col *ngIf="item.num_rating != null && item.num_rating >=1.5 && item.num_rating < 2" text-right >
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star-half" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
            </ion-col>
            <ion-col *ngIf="item.num_rating != null && item.num_rating == 2" text-right >
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
            </ion-col>
            <ion-col *ngIf="item.num_rating != null && item.num_rating >=2.5 && item.num_rating < 3" text-right >
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star-half" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
            </ion-col>
            <ion-col *ngIf="item.num_rating != null && item.num_rating == 3" text-right >
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
            </ion-col>
            <ion-col *ngIf="item.num_rating != null && item.num_rating >=3.5 && item.num_rating < 4" text-right >
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star-half" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
            </ion-col>
            <ion-col *ngIf="item.num_rating != null && item.num_rating == 4" text-right >
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
            </ion-col>
            <ion-col *ngIf="item.num_rating != null && item.num_rating >=4.5 && item.num_rating < 5" text-right >
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star-half" ></ion-icon>
            </ion-col>
            <ion-col *ngIf="item.num_rating != null && item.num_rating == 5" text-right >
              <ion-icon size="small" name="star" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
              <ion-icon size="small" name="star-outline" ></ion-icon>
            </ion-col>
          </div>
          
          <ion-col *ngIf="item.num_rating == null" text-right col-3 align-self-center>
            ยังไม่มีคะแนน
          </ion-col>
        </ion-row>
      </ion-item>
    </ion-list>
  </ion-row>

</ion-content>