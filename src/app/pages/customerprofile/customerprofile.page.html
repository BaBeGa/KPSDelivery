<ion-header *ngIf="userInfo == null">
    <ion-toolbar class="user-profile">

      <ion-item margin-bottom>
        <ion-avatar slot="start" class="user-avatar">
            <img src="/assets/imgs/nonloginavatar.png">
        </ion-avatar>
        <ion-label>
          <ion-text color="light">
            <h1><strong>กรุณาเข้าสู่ระบบ</strong></h1>
          </ion-text>
          <ion-text color="light">
            <h4>
             ลงชื่อเข้าใช้ เพื่อใช้บริการส่งอาหาร
            </h4>
          </ion-text>
          <ion-menu-toggle class="mto" auto-hide="false">
            <a class="text08" tappable (click)="login()">
              <ion-text color="light">
                <ion-icon size="small" name="log-in"></ion-icon>
                <strong>เข้าสู่ระบบ</strong>
              </ion-text>
            </a> <ion-text color="primary"> | </ion-text> 
            <a class="text08" tappable (click)="register()">
              <ion-text color="light">
                <ion-icon size="small" name="contact"></ion-icon>
                <strong>สมัครสมาชิกใหม่</strong>
            </ion-text>
            </a>
          </ion-menu-toggle>
        </ion-label>
      </ion-item>
      <ion-buttons slot="end">
          <ion-button size="small" shape="round" color="medium" (click)="openCart()">
            <ion-icon name="cart"></ion-icon>
            <ion-badge slot="end" *ngIf="cartLength > 0">{{ cartLength }}</ion-badge>
          </ion-button>
      </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-header *ngIf="userInfo != null">
    <ion-toolbar class="user-profile">
        <ion-avatar slot="start">
          <img src="http://158.108.207.4/delivery/public/images/profiles/{{userInfo.user.image}}">
        </ion-avatar>
        <ion-label>
          <ion-text color="light">
            <p id="firstText">{{ userInfo.user.name }}<span>  {{this.userType}}</span></p>
          </ion-text>
          <ion-text color="danger">
              <h3>
                {{userInfo.user.email}}
              </h3>
          </ion-text>
          <ion-menu-toggle class="mto" auto-hide="false">
            <ion-button icon-left size="small" shape="round" color="dark" (click)="editProfile()">
                <ion-icon name="contact"></ion-icon>
                เปลี่ยนรูปโปรไฟล์
              </ion-button>
          </ion-menu-toggle>
        </ion-label>
      <ion-buttons slot="end">
          <ion-button size="small" shape="round" color="medium" (click)="openCart()">
            <ion-icon name="cart"></ion-icon>
            <ion-badge slot="end" *ngIf="cartLength > 0">{{ this.cartLength }}</ion-badge>
          </ion-button>
      </ion-buttons>
  </ion-toolbar>
  <ion-toolbar>
    <ion-segment *ngIf="this.userType == 'customer'" scrollable>
      <ion-segment-button (click)=openMyorder()>
        <ion-icon name="gift"></ion-icon>
        <ion-label>ที่ต้องได้รับ</ion-label>
      </ion-segment-button>
      <ion-segment-button (click)=openMyrate()>
        <ion-icon name="star-outline"></ion-icon>
        <ion-label>ให้คะแนน</ion-label>
      </ion-segment-button>
    </ion-segment>
    <ion-segment *ngIf="this.userType == 'driver'" scrollable>
      <ion-segment-button (click)=openMyworkhistory()>
          <ion-icon name="timer" ></ion-icon>
          <ion-label>ประวัติการทำงาน</ion-label>
        </ion-segment-button>
        <ion-segment-button (click)=openMyorder()>
          <ion-icon name="gift"></ion-icon>
          <ion-label>ที่ต้องได้รับ</ion-label>
        </ion-segment-button>
        <ion-segment-button (click)=openMyhistory()>
            <ion-icon name="gift"></ion-icon>
            <ion-label>ประวัติการสั่งซื้อ</ion-label>
          </ion-segment-button>
        <ion-segment-button (click)=openMyrate()>
          <ion-icon name="star-outline"></ion-icon>
          <ion-label>ให้คะแนน</ion-label>
        </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item *ngIf="userInfo == null">
    <ion-icon large src="assets/icon/find.svg"></ion-icon>
    <h1>ไม่พบข้อมูลผู้ใช้</h1>
  </ion-item>
  <ion-card *ngIf="userInfo != null">
    <ion-card-header color="dark">
      <ion-card-title><strong>ข้อมูลผู้ใช้</strong></ion-card-title>
    </ion-card-header>
    <ion-card-content>
    <ion-list margin-bottom>
      <ion-item>
          <ion-label color="dark" position="stacked">เพศ:</ion-label>
          <ion-col>{{this.userInfo.userinfo.sex}}</ion-col>
      </ion-item>
      <ion-item>
          <ion-label color="dark" position="stacked">ชื่อ-นามสกุล:</ion-label>
          <ion-col>{{this.userInfo.userinfo.firstname+' '+this.userInfo.userinfo.lastname}}</ion-col>
      </ion-item>
      <ion-item>
          <ion-label color="dark" position="stacked">วันเกิด:(ปี-เดือน-วัน)</ion-label>
          <ion-col>{{this.userInfo.userinfo.dob}}</ion-col>
      </ion-item>
      <ion-item lines="none">
          <ion-label color="dark" position="stacked">ที่อยู่:</ion-label>
      </ion-item>
      <ion-item lines="none">
          <ion-label>{{this.userInfo.userinfo.address+'  ตำบล.'+this.userInfo.userinfo.subdistrict}}</ion-label>
      </ion-item>
      <ion-item lines="none">
          <ion-label>{{'อำเภอ '+this.userInfo.userinfo.district +'  จังหวัด '+this.userInfo.userinfo.province}}</ion-label>
      </ion-item>
      <ion-item >
          <ion-label>{{'รหัสไปร์ษณีย์ '+this.userInfo.userinfo.zipcode}}</ion-label>
      </ion-item>
      <ion-item>
          <ion-label color="dark" position="stacked">เบอร์โทร:</ion-label>
          <ion-col>{{this.userInfo.userinfo.phonenumber}}</ion-col>
      </ion-item>
    </ion-list>
  </ion-card-content>
  </ion-card>
  <ion-list margin-bottom *ngIf="userInfo != null">
      <ion-item>
          <ion-label button=true color="dark" (click)="setting()">ตั้งค่าบัญชีผู้ใช้</ion-label>
      </ion-item>
      <ion-item>
          <ion-label button=true color="dark" (click)="helpcenter()">ศูนย์ช่วยเหลือ</ion-label>
      </ion-item>
  </ion-list>
  <ion-button color="danger" expand="block" (click)="logout()" *ngIf="userInfo != null">
    ออกจากระบบ
  </ion-button>

</ion-content>